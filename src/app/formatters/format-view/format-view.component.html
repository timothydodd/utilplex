<div class="formatter-container">
  <div class="tool-header">
    <div class="tool-info">
      <h1 class="tool-title">{{ formatService.title }}</h1>
      <p class="tool-description">{{ getToolDescription() }}</p>
    </div>
    <div class="tool-stats">
      <div class="stat-item">
        <span class="stat-label">Format:</span>
        <span class="stat-value">{{ formatService.language.toUpperCase() }}</span>
      </div>
    </div>
  </div>

  @if (error()) {
    <div class="error-banner">
      <div class="error-icon">âš ï¸</div>
      <div class="error-content">
        <span class="error-title">Formatting Error</span>
        <span class="error-message">{{ error() }}</span>
      </div>
    </div>
  }

  <div class="editors-container">
    <div class="editor-panel input-panel">
      <div class="panel-header">
        <div class="panel-title">
          <div class="panel-icon">ğŸ“</div>
          <h3>Input</h3>
        </div>
        <div class="panel-actions">
          <button class="action-btn-sm paste-btn" (click)="pasteClick()" title="Paste from clipboard">
            <span class="btn-icon">ğŸ“‹</span>
            Paste
          </button>
          <button class="action-btn-sm clear-btn" (click)="clearInput()" title="Clear input">
            <span class="btn-icon">ğŸ—‘ï¸</span>
            Clear
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <app-codemirror-editor
          #editor
          class="editor"
          [config]="inputOptions"
          [placeholder]="'Paste or type your ' + formatService.language.toUpperCase() + ' code here'"
          [ngModel]="inputCode()"
          (ngModelChange)="inputChanged($event)"
        ></app-codemirror-editor>
      </div>
    </div>

    <div class="editor-panel output-panel">
      <div class="panel-header">
        <div class="panel-title">
          <div class="panel-icon">âœ¨</div>
          <h3>Formatted Output</h3>
        </div>
        <div class="panel-actions">
          <button
            class="action-btn-sm copy-btn"
            (click)="copyClick()"
            title="Copy to clipboard"
            [disabled]="!outputCode()"
          >
            <span class="btn-icon">ğŸ“„</span>
            Copy
          </button>
          <button
            class="action-btn-sm download-btn"
            (click)="downloadOutput()"
            title="Download as file"
            [disabled]="!outputCode()"
          >
            <span class="btn-icon">ğŸ’¾</span>
            Download
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <app-codemirror-editor 
          class="editor" 
          [config]="outputOptions" 
          [placeholder]="'Formatted code will appear here'"
          [ngModel]="outputCode()">
        </app-codemirror-editor>
      </div>
    </div>
  </div>
</div>
